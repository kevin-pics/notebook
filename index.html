<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notebook - ç¬”è®°ç´¢å¼•</title>
    <link rel="stylesheet" href="css/index.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/air-datepicker@3.5.3/air-datepicker.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/air-datepicker@3.5.3/air-datepicker.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/air-datepicker@3.5.3/locale/zh.js"></script>
  </head>
  <body>
    <div id="app">
      <div class="page-wrapper">
        <div class="content-container">
          <!-- Header -->
          <header class="page-header">
            <h1>Notebook</h1>
            <p>Kevin's Notes</p>
          </header>

          <!-- Filter and Sort Controls -->
          <div class="filter-controls">
            <div class="date-filter">
              <div class="date-input-wrapper">
                <input
                  ref="datePicker"
                  type="text"
                  placeholder="Select Date"
                  class="date-input calendar-input"
                  readonly
                />
                <button
                  @click="clearDateFilter"
                  class="btn-clear-inline"
                  v-if="selectedDate"
                >
                  âœ•
                </button>
              </div>
            </div>
            <div class="sort-control">
              <button @click="toggleSortOrder" class="btn-sort">
                <span>Sort by Date</span>
                <span class="sort-icon"
                  >{{ sortOrder === 'desc' ? 'â†“' : 'â†‘' }}</span
                >
              </button>
            </div>
          </div>

          <!-- Filter Info -->
          <div class="filter-info" v-if="selectedDate">
            <span>
              {{ filteredAndSortedNotes.length }} {{
              filteredAndSortedNotes.length === 1 ? 'note' : 'notes' }} on {{
              selectedDate }}
            </span>
          </div>
          <div class="filter-info" v-else>
            <span>
              {{ notes.length }} {{ notes.length === 1 ? 'note' : 'notes' }} in
              total
            </span>
          </div>

          <!-- Notes List -->
          <main class="notes-list">
            <ul class="note-items">
              <li
                v-for="note in filteredAndSortedNotes"
                :key="note.id"
                class="note-item-row"
              >
                <a :href="note.url" class="note-link">
                  <span class="note-title">
                    {{ note.title }}
                    <span v-if="note.isMarkdown" class="markdown-badge">MD</span>
                  </span>
                  <div class="note-meta-row">
                    <span class="note-date">
                      <span class="date-full">{{ note.date }}</span>
                      <span class="date-short">{{ note.dateOnly }}</span>
                    </span>
                    <span class="note-tags">
                      <span
                        v-for="(tag, index) in note.tags"
                        :key="tag"
                        v-show="index < 3"
                        class="tag"
                      >
                        {{ tag }}
                      </span>
                    </span>
                  </div>
                </a>
              </li>
            </ul>
          </main>

          <!-- Footer -->
          <footer class="page-footer">
            <div class="summary-card">
              <p class="note">
                Last updated: {{ lastUpdate }}
              </p>
            </div>
          </footer>
        </div>
      </div>
    </div>

    <script>
      const { createApp } = Vue;

      createApp({
        data() {
          return {
            notes: [
              {
                id: 1,
                title: "ä¿¡æ¯äº§ä¸šçš„è§„å¾‹æ€§",
                url: "cornell/cornell-notes-it-industry-laws.html",
                tags: ["ITè¡Œä¸š", "å•†ä¸šå®šå¾‹", "æµªæ½®ä¹‹å·…"],
                date: "2025-10-29 17:58",
                dateOnly: "2025-10-29",
              },
              {
                id: 2,
                title: "å¡”æ‹‰æ»©å…‰ä¼å‘ç”µå›­åŒº",
                url: "cornell/å¡”æ‹‰æ»©å…‰ä¼å‘ç”µå›­åŒº.html",
                tags: ["èƒ½æº", "å…‰ä¼", "é’æµ·"],
                date: "2025-10-29 16:49",
                dateOnly: "2025-10-29",
              },
              {
                id: 3,
                title: "å¦‚ä½•ç”¨è‹±è¯­æ€è€ƒ",
                url: "cornell/å¦‚ä½•ç”¨è‹±è¯­æ€è€ƒ_Cornell_Notes-.html",
                tags: ["è¯­è¨€å­¦ä¹ ", "è‹±è¯­", "å­¦ä¹ æ–¹æ³•"],
                date: "2025-10-29 16:56",
                dateOnly: "2025-10-29",
              },
              {
                id: 4,
                title: "è‹¹æžœå…¬å¸å‘å±•å²",
                url: "cornell/apple-history-cornell-notes.html",
                tags: ["ç§‘æŠ€ä¼ä¸š", "è‹¹æžœ", "å•†ä¸šåŽ†å²", "æµªæ½®ä¹‹å·…"],
                date: "2025-10-29 18:30",
                dateOnly: "2025-10-29",
              },
              {
                id: 5,
                title: "IBMï¼šæŠ€æœ¯æµªæ½®ä¸­çš„å¸¸é’æ ‘",
                url: "cornell/ibm-cornell-notes.html",
                tags: ["ç§‘æŠ€ä¼ä¸š", "IBM", "å•†ä¸šåŽ†å²", "æµªæ½®ä¹‹å·…"],
                date: "2025-10-29 19:15",
                dateOnly: "2025-10-29",
              },
              {
                id: 6,
                title: "GitHub 2025 Octoverse æŠ¥å‘Š",
                url: "cornell/github-octoverse-2025-cornell-notes.html",
                tags: ["GitHub", "å¼€æº", "å¼€å‘è€…", "æŠ€æœ¯è¶‹åŠ¿"],
                date: "2025-10-29 19:45",
                dateOnly: "2025-10-29",
              },
              {
                id: 7,
                title: "ç¾Žå…ƒå¦‚ä½•æŽ§åˆ¶ä¸–ç•Œ",
                url: "cornell/ç¾Žå…ƒå¦‚ä½•æŽ§åˆ¶ä¸–ç•Œ_Cornellç¬”è®°.html",
                tags: ["é‡‘èž", "ç¾Žå…ƒä½“ç³»", "å›½é™…æ”¿æ²»", "ç»æµŽå­¦"],
                date: "2025-10-30 00:00",
                dateOnly: "2025-10-30",
              },
              {
                id: 8,
                title: "ã€Šè¢«è§£æ”¾çš„æ™®ç½—ç±³ä¿®æ–¯ã€‹æ ¸å¿ƒæ´žè§",
                url: "cornell/cornell_notes_prometheus.html",
                tags: ["å·¥ä¸šé©å‘½", "ç»æµŽå²", "æŠ€æœ¯å˜é©", "æ¬§æ´²åŽ†å²"],
                date: "2025-10-30 15:30",
                dateOnly: "2025-10-30",
              },
              {
                id: 9,
                title: "èœœé›ªå†°åŸŽå•†ä¸šæ¨¡å¼åˆ†æž",
                url: "cornell/mixue-cornell-notes.html",
                tags: ["å•†ä¸šæ¨¡å¼", "è¿žé”ç»è¥", "å“ç‰Œæˆ˜ç•¥", "é¤é¥®è¡Œä¸š"],
                date: "2025-10-30 16:00",
                dateOnly: "2025-10-30",
              },
              {
                id: 10,
                title: "èœœé›ªå†°åŸŽçš„å•†ä¸šå¯†ç ä¸Žé›ªçŽ‹ IP æˆ˜ç•¥",
                url: "cornell/mixue-ip-strategy.html",
                tags: ["IPè¥é”€", "å“ç‰Œæˆ˜ç•¥", "èœœé›ªå†°åŸŽ", "å•†ä¸šæ¨¡å¼"],
                date: "2025-10-31 16:45",
                dateOnly: "2025-10-31",
                isMarkdown: true,
              },
              {
                id: 11,
                title: "æ–°åŠ å¡ç»æµŽå‘å±•å²ç¬”è®°",
                url: "cornell/æ–°åŠ å¡ç»æµŽå‘å±•å²ç¬”è®°.html",
                tags: ["ç»æµŽå‘å±•", "æ–°åŠ å¡", "æŽå…‰è€€", "åŸŽå¸‚è§„åˆ’"],
                date: "2025-11-01 14:09",
                dateOnly: "2025-11-01",
              },
              {
                id: 12,
                title: "Google (Alphabet) 2025å¹´Q3è´¢æŠ¥æ ¸å¿ƒç¬”è®°",
                url: "cornell/google-alphabet-2025-q3-earnings.html",
                tags: ["è´¢æŠ¥åˆ†æž", "Google", "ç§‘æŠ€ä¼ä¸š", "AI"],
                date: "2025-11-03 16:20",
                dateOnly: "2025-11-03",
                isMarkdown: true,
              },
              {
                id: 13,
                title: "ðŸ“˜ ç¬¬äºŒç« ï¼šå¯Œäººä¸ä¸ºé’±å·¥ä½œ",
                url: "cornell/å¯Œäººä¸ä¸ºé’±å·¥ä½œ-ç¬¬äºŒç« .html",
                tags: ["ç†è´¢", "å¯Œçˆ¸çˆ¸ç©·çˆ¸çˆ¸", "è´¢å•†", "æŠ•èµ„æ€ç»´"],
                date: "2025-11-03 19:59",
                dateOnly: "2025-11-03",
              },
            ],
            lastUpdate: "2025-11-06",
            sortOrder: "desc", // 'desc' for descending, 'asc' for ascending
            selectedDate: "",
            datepickerInstance: null,
          };
        },
        computed: {
          filteredAndSortedNotes() {
            let result = [...this.notes];

            // Apply date filter
            if (this.selectedDate) {
              result = result.filter((note) => {
                return note.dateOnly === this.selectedDate;
              });
            }

            // Apply sorting
            result.sort((a, b) => {
              if (this.sortOrder === "desc") {
                return b.date.localeCompare(a.date);
              } else {
                return a.date.localeCompare(b.date);
              }
            });

            return result;
          },
        },
        methods: {
          toggleSortOrder() {
            this.sortOrder = this.sortOrder === "desc" ? "asc" : "desc";
          },
          clearDateFilter() {
            this.selectedDate = "";
            if (this.datepickerInstance) {
              this.datepickerInstance.clear();
            }
          },
          initDatepicker() {
            this.$nextTick(() => {
              const input = this.$refs.datePicker;
              if (!input) return;

              this.datepickerInstance = new AirDatepicker(input, {
                locale: {
                  days: [
                    "å‘¨æ—¥",
                    "å‘¨ä¸€",
                    "å‘¨äºŒ",
                    "å‘¨ä¸‰",
                    "å‘¨å››",
                    "å‘¨äº”",
                    "å‘¨å…­",
                  ],
                  daysShort: ["æ—¥", "ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­"],
                  daysMin: ["æ—¥", "ä¸€", "äºŒ", "ä¸‰", "å››", "äº”", "å…­"],
                  months: [
                    "ä¸€æœˆ",
                    "äºŒæœˆ",
                    "ä¸‰æœˆ",
                    "å››æœˆ",
                    "äº”æœˆ",
                    "å…­æœˆ",
                    "ä¸ƒæœˆ",
                    "å…«æœˆ",
                    "ä¹æœˆ",
                    "åæœˆ",
                    "åä¸€æœˆ",
                    "åäºŒæœˆ",
                  ],
                  monthsShort: [
                    "1æœˆ",
                    "2æœˆ",
                    "3æœˆ",
                    "4æœˆ",
                    "5æœˆ",
                    "6æœˆ",
                    "7æœˆ",
                    "8æœˆ",
                    "9æœˆ",
                    "10æœˆ",
                    "11æœˆ",
                    "12æœˆ",
                  ],
                  today: "ä»Šå¤©",
                  clear: "æ¸…é™¤",
                  dateFormat: "yyyy-MM-dd",
                  timeFormat: "HH:mm",
                  firstDay: 1,
                },
                dateFormat: "yyyy-MM-dd",
                position: "bottom left",
                autoClose: true,
                onSelect: ({ date, formattedDate }) => {
                  this.selectedDate = formattedDate;
                },
              });
            });
          },
        },
        mounted() {
          this.initDatepicker();
        },
        beforeUnmount() {
          if (this.datepickerInstance) {
            this.datepickerInstance.destroy();
          }
        },
      }).mount("#app");
    </script>
  </body>
</html>
